<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>
<h:head>
    <link rel="icon" type="image/png" href="favicon.png"/>
    <link href="css/indexss.css" rel="stylesheet" type="text/css"/>
    <script src="https://unpkg.com/function-plot/dist/function-plot.js"></script>
    <script src="js/plotx.js"></script>
    <script src="js/mainx.js"></script>
    <title>Lab 3</title>
</h:head>
<h:body>
    <f:view>
        <table>
            <thead>
            <tr>
                <td>
                    <h1>Lab 3</h1>
                </td>
                <td id="lab-info">
                    Сандов Кирилл &amp; Султанов Артур / P3213 / Вариант 2310
                </td>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="coords-info">
                        <div class="coords-interactive-container" id="plot"></div>
                    </td>
                    <td>
                        <h:form id="coords-form" method="post" action="${pageContext.request.contextPath}/controller">
                            <table>
                                <tr>
                                    <td class="form-label">X:</td>
                                    <td>
                                        <h:selectOneRadio id="x-coord-input" name="x" value="#{point.x}">
                                            <f:selectItem itemValue="-2" itemLabel="-2" />
                                            <f:selectItem itemValue="-1.5" itemLabel="-1.5" />
                                            <f:selectItem itemValue="-1" itemLabel="-1" />
                                            <f:selectItem itemValue="-0.5" itemLabel="-0.5" />
                                            <f:selectItem itemValue="0" itemLabel="0" />
                                            <f:selectItem itemValue="0.5" itemLabel="0.5" />
                                            <f:selectItem itemValue="1" itemLabel="1" />
                                            <f:selectItem itemValue="1.5" itemLabel="1.5" />
                                            <f:validateRequired/>
                                        </h:selectOneRadio>
                                        <h:message for="x-coord-input" styleClass="validation-error"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="form-label">Y:</td>
                                    <td>
                                        <h:inputText id="y-coord-input" name="y" value="#{point.y}">
                                            <f:validateRequired/>
                                            <f:validateDoubleRange minimum="-2.999999999" maximum="2.999999999"/>
                                        </h:inputText>
                                        <h:message for="y-coord-input" styleClass="validation-error"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="form-label">R:</td>
                                    <td>
                                        <div id="r-coord-input">
                                            <h:commandButton value="1" disabled="true"/>
                                            <h:commandButton value="1.5"/>
                                            <h:commandButton value="2"/>
                                            <h:commandButton value="2.5"/>
                                            <h:commandButton value="    3"/>
                                        </div>
                                        <h:inputText type="hidden" name="r" id="r-coord-input-real" value="#{point.r}"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <h:commandButton styleClass="coords-btn" value="Отправить">
                                            <f:ajax
                                                execute="@form"
                                                listener="#{point.addResult()}"
                                                render="results-table"
                                            />
                                        </h:commandButton>
                                    </td>
                                </tr>
                            </table>
                        </h:form>
                    </td>
                </tr>
                <tr class="results-row">
                    <td colspan="2">
                        <table id="results-table">
                            <thead>
                            <tr>
                                <td>X</td>
                                <td>Y</td>
                                <td>R</td>
                                <td>Попал</td>
                                <td>Создано</td>
                            </tr>
                            </thead>
                            <tbody>
                                <script>
                                    addPoint(1, 1, 1);
                                    addPoint(2, 1, 2);
                                </script>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>
    </f:view>
</h:body>
</html>
